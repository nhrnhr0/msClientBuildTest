import{u as a,g,S as h,L as S,G as T,e as p,f as y,h as O}from"./cookies-515d6a48.js";import{a7 as l}from"./vendor-5456ee1f.js";let i={};function v(t){let e={logs:t,uid:f()};return s(S,{method:"POST",body:JSON.stringify(e)})}function s(t,e,n,r=!1){let c={"Content-Type":"application/json","Content-Type":"application/json; charset=UTF-8"};e&&e.method=="POST"&&(c["X-CSRFToken"]=g("csrftoken")),l(a).access&&(c.Authorization="Token "+l(a).access);var m=new Headers(c);e=Object.assign({},{method:"GET",mode:"cors",credentials:"include",headers:m,redirect:"follow"},e);let d;try{d=n?n(t,e):fetch(t,e)}catch(o){console.error(o)}return d.then(o=>{if(o.status==401){let u=l(a);if(u.isLogin=!1,u.access=null,a.set(u),!r)return s(t,e,n,!0)}return console.log(t," ==> ",o.status),o.json()}).then(o=>o)}function k(t){return s(p+"?q="+encodeURIComponent(t))}function C(t,e){if(i[t])return i[t];{let n=s(h+"/_get_album_images/"+t,{method:"GET"},e);return i[t]=n,i[t]}}async function P(){let t=f(),e="/";t&&(e+=t);let n=await s(T+e);var r;r=n.uid,localStorage.setItem("uuid",r)}function f(){return localStorage.getItem("uuid")}function w(t){var e={method:"POST",body:JSON.stringify(t)};let n;return n=s(y,e),n}function G(t){var e={method:"POST",body:JSON.stringify(t)};let n;return n=s(O,e),n}export{k as a,v as b,f as c,G as d,s as f,C as g,P as r,w as s};
