import{C as l,a7 as g}from"./vendor-5456ee1f.js";import{b as n}from"./api-fa56fbba.js";let s={};s=JSON.parse(localStorage.getItem("cart")),s||(s={});const c=l(s);c.subscribe(e=>{window.localStorage.setItem("cart",JSON.stringify(e))});const S=l({});let r=[];r=JSON.parse(localStorage.getItem("log")),r||(r=[]);let t=l(r);t.subscribe(e=>{window.localStorage.setItem("log",JSON.stringify(e))}),t.addLog=e=>{e.timestemp=new Date,t.update(o=>(o.push(e),o))},console.log("logStore.js creating interval loop! SHOULD CALLED ONLY once"),setInterval(()=>{(function(){let e=g(t);e.length>0&&(console.log("logStore.js sending logs to server!",e),n(e).then(o=>{console.log("logStore.js response from server",o),t.update(a=>(a.splice(0,o.rows.length),a))}).catch(o=>{console.log("logStore.js error",o)}))})()},25e3);export{S as a,c,t as l};
