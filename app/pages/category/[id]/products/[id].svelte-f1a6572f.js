import{S as H,i as K,s as Q,e as i,av as R,c as p,d as a,b as t,E as s,O as F,A as U}from"../../../../chunks/vendor-c667ba6d.js";import{P as V,C as P}from"../../../../chunks/cookies-43b1ac48.js";import{f as W}from"../../../../chunks/api-7bf09aee.js";import{i as X}from"../../../../chunks/utils-05ad4441.js";function Y(o){var q;let d,m,u,c,r,l,I,y,L,h,O,g,$,w,A,M,b,f,C,E,J,T,N;return document.title=d=(q=o[0])==null?void 0:q.title,{c(){m=i("meta"),c=i("meta"),l=i("meta"),y=i("meta"),h=i("meta"),g=i("meta"),w=i("meta"),A=i("meta"),M=i("meta"),b=i("meta"),f=i("meta"),E=i("meta"),T=i("meta"),this.h()},l(n){const e=R('[data-svelte="svelte-1kygxou"]',document.head);m=p(e,"META",{name:!0,content:!0}),c=p(e,"META",{name:!0,content:!0}),l=p(e,"META",{name:!0,content:!0}),y=p(e,"META",{property:!0,content:!0}),h=p(e,"META",{property:!0,content:!0}),g=p(e,"META",{property:!0,content:!0}),w=p(e,"META",{property:!0,content:!0}),A=p(e,"META",{property:!0,content:!0}),M=p(e,"META",{property:!0,content:!0}),b=p(e,"META",{property:!0,content:!0}),f=p(e,"META",{property:!0,content:!0}),E=p(e,"META",{property:!0,content:!0}),T=p(e,"META",{property:!0,content:!0}),e.forEach(a),this.h()},h(){var n,e,_,k,j,v,x,S,G;t(m,"name","title"),t(m,"content",u=(n=o[0])==null?void 0:n.title),t(c,"name","description"),t(c,"content",r=(e=o[0])==null?void 0:e.description),t(l,"name","keywords"),t(l,"content",I=(_=o[0])==null?void 0:_.keywords),t(y,"property","og:title"),t(y,"content",L=(k=o[0])==null?void 0:k.title),t(h,"property","og:description"),t(h,"content",O=(j=o[0])==null?void 0:j.description),t(g,"property","og:image"),t(g,"content",$=P+"f_auto,w_auto/"+((v=o[0])==null?void 0:v.cimage)),t(w,"property","og:type"),t(w,"content","product"),t(A,"property","og:site_name"),t(A,"content","M.S. Global"),t(M,"property","og:locale"),t(M,"content","IL"),t(b,"property","twitter:card"),t(b,"content","summary_large_image"),t(f,"property","twitter:title"),t(f,"content",C=(x=o[0])==null?void 0:x.title),t(E,"property","twitter:description"),t(E,"content",J=(S=o[0])==null?void 0:S.description),t(T,"property","twitter:image"),t(T,"content",N=P+"f_auto,w_auto/"+((G=o[0])==null?void 0:G.cimage))},m(n,e){s(document.head,m),s(document.head,c),s(document.head,l),s(document.head,y),s(document.head,h),s(document.head,g),s(document.head,w),s(document.head,A),s(document.head,M),s(document.head,b),s(document.head,f),s(document.head,E),s(document.head,T)},p(n,[e]){var _,k,j,v,x,S,G,z,B,D;1&e&&d!==(d=(_=n[0])==null?void 0:_.title)&&(document.title=d),1&e&&u!==(u=(k=n[0])==null?void 0:k.title)&&t(m,"content",u),1&e&&r!==(r=(j=n[0])==null?void 0:j.description)&&t(c,"content",r),1&e&&I!==(I=(v=n[0])==null?void 0:v.keywords)&&t(l,"content",I),1&e&&L!==(L=(x=n[0])==null?void 0:x.title)&&t(y,"content",L),1&e&&O!==(O=(S=n[0])==null?void 0:S.description)&&t(h,"content",O),1&e&&$!==($=P+"f_auto,w_auto/"+((G=n[0])==null?void 0:G.cimage))&&t(g,"content",$),1&e&&C!==(C=(z=n[0])==null?void 0:z.title)&&t(f,"content",C),1&e&&J!==(J=(B=n[0])==null?void 0:B.description)&&t(E,"content",J),1&e&&N!==(N=P+"f_auto,w_auto/"+((D=n[0])==null?void 0:D.cimage))&&t(T,"content",N)},i:F,o:F,d(n){a(m),a(c),a(l),a(y),a(h),a(g),a(w),a(A),a(M),a(b),a(f),a(E),a(T)}}}async function at({page:o,fetch:d,session:m,contex:u}){console.log("load",o.params);let c=V+o.params.id+"/";if(X(o.params.id)){let r=await W(c,{method:"GET"},d);r.description=r.description.replace(/(\r\n|\n|\r)/gm,"");let l="/category/(.+)/products";return{props:{data:r,album:o.path.match(l)[1]}}}}function Z(o,d,m){let{data:u}=d,{album:c}=d;return U(()=>{sessionStorage.setItem("onLoadTask",JSON.stringify({type:"product",data:u,album:c})),window.location.replace("/")}),o.$$set=r=>{"data"in r&&m(0,u=r.data),"album"in r&&m(1,c=r.album)},[u,c]}class ct extends H{constructor(d){super(),K(this,d,Z,Y,Q,{data:0,album:1})}}export{ct as default,at as load};
